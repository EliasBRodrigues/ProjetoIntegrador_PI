<!DOCTYPE html>
<html lang="en">
<head>
<title>Signup</title>
<link rel="stylesheet" href="../static/styles/style.css">
</head>
<body>
    <div class="loginMain"> <!-- DIV MAIOR -->
        <div class="loginLeft">
            <h1>Acesse a<br>Plataforma</h1>
        </div>
        <div class="loginRight">
            <div class="loginCard">
                <h1>Cadastro</h1>
                 <div id="message"></div>
                <form action="{{url_for('signUp')}}" method="POST">
                    <div class="loginText">
                        <label for="name">Nome</label>
                        <input type="name" name="name" id="name" placeholder="Digite o nome de usuario" required>
                    </div>
                    <div class="loginText">
                        <label for="email">Email</label>
                        <input type="email" name="email" id="email" placeholder="Digite o Email" required>
                    </div>
                    <div class="loginText">
                        <label for="password">Senha</label>
                        <input type="password" name="password" id="password" placeholder="Digite a Senha" required>
                    </div>
                    <br>
                    <div class="form-group">
                        <label>
                            <a href="/login" class="signup-image-link">j√° tenho cadastro</a>
                        </label>
                    </div>
                    <br>
                    <input type="button" name="btnSignUp" id="btnSignUp" class="loginButton"  value="Cadastrar" />
                    <br>
                </form>
               
            </div>
        </div>
    </div>
<style>
#message h3 {
    border:1px #a81b2f solid;padding:5px;
}
</style> 
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script>
    $(function() {
        $('#btnSignUp').click(function() {
            $.ajax({
                url: '/signup',
                data: $('form').serialize(),
                type: 'POST',
                success: function(response) {
                    console.log(response); alert(response)
                    $('#message').html(response);
                    if(response == 'ok'){
                        window.location.href = '/login';
                    }
                },
                error: function(error) {
                    console.log(error);
                    $('#message').html(error);
                }
            });
        });
    });
</script> 
  </body>
</html>